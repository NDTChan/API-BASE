create or replace PROCEDURE PHB_GET_TEMPLATE_REPORT
(
  MA_BAO_CAO IN NVARCHAR2,
  outRef OUT SYS_REFCURSOR
)AS
QUERY_STR  VARCHAR2(3000); 
BEGIN
    QUERY_STR:='SELECT DISTINCT(MA_TEMPLATE) FROM '||MA_BAO_CAO||'_TEMPLATE';
    OPEN outRef FOR QUERY_STR;
    EXCEPTION
    WHEN OTHERS
      THEN
        OPEN outRef FOR SELECT 'null' as MA_TEMPLATE from dual;
END PHB_GET_TEMPLATE_REPORT;